---
name: Expo GitHub Action - Fingerprint Query Artifact
author: Expo
description: Query artifacts from fingerprint database
branding:
  icon: smartphone
  color: gray-dark
runs:
  using: node20
  main: ../build/fingerprint-query-artifact.js
inputs:
  fingerprint-state-file:
    description: The fingerprint state file generated from `expo/actions/fingerprint`
    required: true
  platform:
    description: The platform for the artifact (android | ios)
    required: true
  packager:
    description: The package manager used to install the fingerprint tools
    default: yarn
  fingerprint-db-cache-key:
    description: A cache key to use for loading the fingerprint database
    required: false
    default: fingerprint-db
  fingerprint-db-cache-path:
    description: The path to the fingerprint database cache
    required: false
    default: ${{ runner.tool_cache }}/fingerprint-storage/fingerprint.db

outputs:
  artifact-id:
    description: The GitHub artifact ID if found, empty otherwise
  artifact-url:
    description: The GitHub artifact URL if found, empty otherwise
  run-id:
    description: The workflow run ID if found, empty otherwise
